<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
		  package="com.citymaps.mobile.android">

	<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
	<uses-permission android:name="android.permission.INTERNET"/>
	<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
	<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>

	<!--
	 To retrieve OAuth 2.0 tokens or invalidate tokens to disconnect a user. This disconnect
	 option is required to comply with the Google+ Sign-In developer policies
	-->
	<uses-permission android:name="android.permission.USE_CREDENTIALS"/>

	<!-- To retrieve the account name (email) as part of sign-in: -->
	<uses-permission android:name="android.permission.GET_ACCOUNTS"/>

	<!-- To auto-complete the email text field in the login form with the user's emails -->
	<uses-permission android:name="android.permission.READ_PROFILE"/>
	<uses-permission android:name="android.permission.READ_CONTACTS"/>

	<application
			android:name=".CitymapsApplication"
			android:allowBackup="true"
			android:icon="@drawable/ic_launcher"
			android:label="@string/app_name"
			android:theme="@style/AppTheme">

		<!-- Launch/Onboarding Activities -->

		<activity
				android:name=".view.housekeeping.LaunchActivity"
				android:launchMode="standard"
				android:noHistory="true"
				android:theme="@style/AppTheme.NoTitleOrActionBar">
			<intent-filter>
				<action android:name="android.intent.action.MAIN"/>

				<category android:name="android.intent.category.LAUNCHER"/>
			</intent-filter>
		</activity>
		<activity
				android:name=".view.housekeeping.TourActivity"
				android:label="@string/tour_activity_title">
		</activity>
		<activity
				android:name=".view.housekeeping.EnableLocationActivity"
				android:label="@string/loc_activity_title">
		</activity>
		<activity
				android:name=".view.housekeeping.HardUpdateActivity"
				android:noHistory="true"
				android:theme="@style/AppTheme.NoTitleOrActionBar">
		</activity>
		<activity
				android:name=".view.housekeeping.AuthenticateActivity"
				android:theme="@style/AppTheme.NoTitleOrActionBar">
		</activity>
		<activity
				android:name=".view.housekeeping.AuthenticateActivity_NotUsed"
				android:windowSoftInputMode="adjustResize|stateHidden">
		</activity>
		<activity
				android:name=".view.housekeeping.LoginActivity"
				android:label="@string/login_sign_in_activity_title"
				android:launchMode="singleTop">
			<intent-filter>
				<category android:name="android.intent.category.DEFAULT"/>

				<action android:name="android.intent.action.VIEW"/>

				<data
						android:scheme="citymaps.internal"
						android:host="com.citymaps.mobile.android"
						android:pathPrefix="/login"/>

			</intent-filter>
		</activity>
		<activity
				android:name="com.facebook.LoginActivity"
				android:theme="@android:style/Theme.Translucent.NoTitleBar"
				android:label="@string/app_name">
		</activity>

		<!-- Other activities -->

		<activity
				android:name=".view.MainActivity"
				android:label="@string/app_name"
				android:launchMode="singleTop"
				android:theme="@style/AppTheme.TranslucentAppBar.Overlay">
		</activity>
		<activity
				android:name=".view.ProfileActivity"
				android:label="@string/profile_activity_title"
				android:theme="@style/AppTheme">
		</activity>
		<activity
				android:name=".view.SettingsActivity"
				android:label="@string/settings_activity_title">
		</activity>

		<!-- Services -->

		<service
				android:name=".service.StartupService"
				android:enabled="true"
				android:exported="false">
			<intent-filter>
				<action android:name="com.citymaps.mobile.android.action.STARTUP_SERVICE"/>

				<category android:name="android.intent.category.DEFAULT"/>
			</intent-filter>
		</service>
		<service
				android:name=".map.MapViewService"
				android:enabled="true"
				android:exported="false">
			<intent-filter>
				<action android:name="com.citymaps.mobile.android.action.MAP_VIEW_SERVICE"/>

				<category android:name="android.intent.category.DEFAULT"/>
			</intent-filter>
		</service>

		<!-- Providers -->

		<provider
				android:name=".notused_provider.config.ConfigProvider"
				android:authorities="com.citymaps.mobile.android.notused_provider.config"
				android:enabled="true"
				android:exported="false">
		</provider>

		<!-- Meta data -->

		<meta-data
				android:name="com.citymaps.mobile.android.CITYMAPS_SECRET"
				android:value="4e1546ddc0de4e9db622dac75da14ac0"/>
		<meta-data
				android:name="com.google.android.gms.version"
				android:value="@integer/google_play_services_version"/>
		<meta-data
				android:name="com.citymaps.citymapsengine.API_KEY"
				android:value="@string/citymaps_engine_api_key"/>
		<meta-data
				android:name="com.facebook.sdk.ApplicationId"
				android:value="@string/facebook_app_id"/>
	</application>

</manifest>
